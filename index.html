<!-- 解答モード -->
<div id="answer" class="tab-content">
  <h2>解答モード</h2>
  <div id="questionListContainer"></div>
  <img id="quizImage" src="" alt="問題画像">
  <div id="answerMap"></div>
  <button id="guessBtn" class="btn">Guess!</button>
  <p id="result"></p>
</div>

<style>
  #questionListContainer {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 15px;
  }
  .question-item {
    border: 2px solid #ccc;
    border-radius: 6px;
    padding: 5px;
    cursor: pointer;
    width: 120px;
    text-align: center;
    background: #f9f9f9;
  }
  .question-item img {
    max-width: 100%;
    height: 80px;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 5px;
  }
  .question-item.active {
    border-color: #2c7dce;
    background: #eef6ff;
  }
</style>

<script>
  // 問題リストをリスト形式で読み込む
  function loadQuestionList() {
    const questions = JSON.parse(localStorage.getItem("questions") || "[]");
    const container = document.getElementById("questionListContainer");
    container.innerHTML = "";

    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question-item";
      div.innerHTML = `
        <img src="${q.image}" alt="問題${i+1}">
        <p>問題 ${i+1}</p>
      `;
      div.addEventListener("click", () => {
        document.querySelectorAll(".question-item").forEach(el => el.classList.remove("active"));
        div.classList.add("active");
        loadQuestion(i);
      });
      container.appendChild(div);
    });

    if (questions.length > 0) {
      container.firstChild.classList.add("active");
      loadQuestion(0);
    } else {
      document.getElementById("quizImage").src = "";
      document.getElementById("result").textContent = "まだ問題がありません";
    }
  }
</script>
